<main class="bg-white min-h-screen md:flex scroll-smooth">

    <!-- ✅ Accordion للموبايل -->
    <section class="block md:hidden py-4">
        <div class="w-full max-w-xl mx-auto space-y-4 bg-[#e0e0e0] px-2">
            <details class="group rounded-lg overflow-hidden">
                <summary
                    class="cursor-pointer select-none flex justify-between items-start px-4 py-6 bg-transparent text-gray-800 hover:bg-gray-200 transition-all ease duration-700">
                    <div class="flex justify-between gap-3 font-bold">
                        <span class="capitalize">Order Summary</span>
                        <i class="fa-solid fa-chevron-down mt-1"></i>
                    </div>
                    <h2 class="font-bold">LE 750.00</h2>
                </summary>
                <!-- ✅ تفاصيل الطلب -->
                <section class="w-full bg-neutral-200 px-4 py-8 sm:px-6 lg:px-8" aria-modal="true" role="dialog"
                    tabindex="-1">
                    <article class="space-y-2">
                        <!-- هنا تحط ul بـ *ngFor زي اللي في النسخة الكبيرة -->
                    </article>
                </section>
            </details>
        </div>
    </section>

    <!-- ✅ فورم البيانات -->
    <section class="bg-white mt-10 md:w-full">
        <section class="px-3 grid justify-center">
            <form class="mb-5 overflow-hidden">

                <!-- Contact -->
                <div class="flex items-center justify-between">
                    <h2 class="font-bold text-2xl ms-4">Contact</h2>
                    <a href="" class="underline pe-8">Log in</a>
                </div>

                <!-- Email -->
                <div class="flex flex-col items-center justify-center">
                    <input type="email" placeholder="Email"
                        class="mt-5 h-12 w-80 rounded-md border border-neutral-400 sm:text-sm p-4 mb-5 placeholder:text-neutral-400" />
                </div>

                <!-- Delivery -->
                <h2 class="font-bold text-2xl ms-4 my-4">Delivery</h2>
                <div class="flex flex-col items-center justify-center">
                    <select class="h-auto w-80 rounded-md border border-neutral-400 sm:text-sm p-4 mb-5">
                        <option value="Egypt" selected>Egypt</option>
                    </select>

                    <input type="text" placeholder="First Name"
                        class="h-12 w-80 rounded-md border border-neutral-400 sm:text-sm p-4 mb-5 placeholder:text-neutral-400" />
                    <input type="text" placeholder="Last Name"
                        class="h-12 w-80 rounded-md border border-neutral-400 sm:text-sm p-4 mb-5 placeholder:text-neutral-400" />
                    <input type="text" placeholder="Phone Number" pattern="^01[0125][0-9]{8}$" maxlength="11"
                        class="h-12 w-80 rounded-md border border-neutral-400 sm:text-sm p-4 mb-5 placeholder:text-neutral-400" />

                    <h2 class="font-bold text-2xl my-4">Enter Your Address Details</h2>
                    <input type="text" placeholder="Address"
                        class="h-12 w-80 rounded-md border border-neutral-400 sm:text-sm p-4 mb-5 placeholder:text-neutral-400" />

                    <select class="h-auto w-80 rounded-md border border-neutral-400 sm:text-sm p-4 mb-5">
                        <option value="" selected disabled>Please Select Your Governorate</option>
                        <option value="Cairo">Cairo</option>
                    </select>

                    <div class="flex items-center justify-between w-full">
                        <h5 class="font-bold text-2xl my-4">Shipping Cost</h5>
                        <span class="font-bold text-3xl">100.00 EGP</span>
                    </div>

                    <input type="text" hidden />

                    <!-- زر تأكيد الطلب -->
                    <button type="button"
                        class="mt-4 w-80 rounded-md bg-black py-2 px-4 text-sm text-white transition-all hover:bg-slate-700">
                        Complete Order
                    </button>
                </div>

            </form>
        </section>
    </section>

    <!-- ✅ Order Summary for Desktop -->
    <section
        class="hidden md:block py-4 w-[100%] border-s border-neutral-300 sticky top-0 h-screen overflow-y-auto scroll-smooth">
        <div class="w-full min-w-lg bg-[#f5f5f5] px-2 h-full">
            <div class="group rounded-lg overflow-hidden">
                <div
                    class="cursor-pointer flex justify-between items-start px-4 py-6 bg-transparent text-gray-800 hover:bg-gray-200 transition-all ease duration-700">
                    <div class="flex justify-between gap-3 font-bold md:hidden">
                        <span class="capitalize">Order Summary</span>
                    </div>
                    <h2 class="font-bold md:hidden">LE 750.00</h2>
                </div>

                <section class="w-full px-4 py-8 sm:px-6 lg:px-8" aria-modal="true" role="dialog" tabindex="-1">
                    <article class="space-y-6">
                        <!-- ✅ قائمة المنتجات -->
                        <ul class="space-y-4">
                            <li *ngFor="let item of cartItems"
                                class="flex items-center gap-4 p-2 rounded-md hover:bg-neutral-400 transition-all ease-in duration-200">
                                <div class="relative">
                                    <img [src]="item.productImageUrl" alt="" class="size-16 rounded-sm object-cover" />
                                    <span
                                        class="absolute top-[-8px] end-[-8px] bg-black text-white rounded-full w-5 h-5 flex items-center justify-center text-[10px] font-bold shadow-md ring-2 ring-white">
                                        {{ item.quantity }}
                                    </span>

                                </div>
                                <div class="flex flex-col justify-between flex-1">
                                    <div>
                                        <h3 class="text-sm font-bold text-black">{{ item.productName }}</h3>
                                        <p class="text-[10px] text-gray-600">Size: {{ item.productSizeName }}</p>
                                        <h3 class="text-sm font-bold text-black">LE {{ item.unitPrice | number: '1.2-2'
                                            }} EGP</h3>
                                    </div>
                                </div>
                                <div class="font-bold">LE {{ item.totalPriceForOneItemType | number: '1.2-2' }}</div>
                            </li>
                        </ul>

                        <!-- ✅ الإجمالي -->
                        <div class="flex justify-between border-t pt-6 mt-6">
                            <div>
                                <p class="capitalize text-sm">Subtotal</p>
                                <p class="capitalize text-sm mt-2">Shipping</p>
                                <p class="capitalize font-bold mt-4 text-xl">Total</p>
                            </div>
                            <div class="grid justify-items-end text-right">
                                <h2>LE {{ estimatedTotal | number: '1.2-2' }}</h2>
                                <h2 class="mt-2">LE 100.00</h2>
                                <h2 class="capitalize text-xl font-bold mt-4 text-black">
                                    <span class="text-neutral-500">EGP</span>
                                    LE {{ estimatedTotal + 100 | number: '1.2-2' }}
                                </h2>
                            </div>
                        </div>
                    </article>
                </section>
            </div>
        </div>
    </section>

</main>